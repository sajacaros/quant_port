# Chapter6 파이썬에서 SQL 연결하기
## 6.1 파이썬에서 SQL DB에 접속하기
``` 
import pymysql

con = pymysql.connect(
    user='quantist',
    passwd='quant!*#',
    host='localhost',
    db='shop',
    charset='utf8'
)

mycursor = con.cursor()
```
``` 
query = """
    select * from goods;
"""

mycursor.execute(query)
data = mycursor.fetchall()
con.close()

display(data)
type(data)
```
``` 
con = pymysql.connect(
    user='quantist',
    passwd='quant!*#',
    host='localhost',
    db='shop',
    charset='utf8'
)

mycursor = con.cursor()
query = """
    insert into goods (goods_id, goods_name, goods_classify, sell_price, buy_price, register_date)
    values ('0009', '스테이플러', '사무용품', '2000', '1500', '2020-12-30');
"""

mycursor.execute(query)
con.commit()
con.close()
```
## 6.2 pandas를 이용한 데이터 읽기 및 쓰기
``` 
import pandas as pd
from sqlalchemy import create_engine

# engine = create_engine('mysql+pymysql://[사용자명]:[비밀번호]@[호스트:포트]/[사용할 데이터베이스]')
engine = create_engine('mysql+pymysql://quantist:quant!*#@localhost:3306/shop')
query = """select * from Goods"""
goods = pd.read_sql(query, con=engine)
engine.dispose()

goods.head()
```
``` 
import seaborn as sns
from sqlalchemy import create_engine 

engine = create_engine('mysql+pymysql://quantist:quant!*#@127.0.0.1:3306/shop')
iris = sns.load_dataset('iris')
iris.to_sql(name = 'iris', con = engine, index = False, if_exists = 'replace')
engine.dispose()
```
## 6.3 upsert 기능 구현하기
### 6.3.1 MySql에서 upsert 기능 구현하기
### 6.3.2 파이썬에서 upsert 기능 구현하기